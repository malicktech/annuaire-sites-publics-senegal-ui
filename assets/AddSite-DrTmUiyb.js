import{h as f,i as y,p as F,m as k,j as R,k as q,l as x,u as U,b as i,n as C,_ as L,o as P,g as A,w as m,V,q as S,s as g,e as _}from"./index-Du-qY_Ub.js";import{V as w}from"./VContainer-CtWETSu5.js";const B={setup(){const a=f(null),l=f(!1),o=y({name:"",url:"",type:""});return{form:a,valid:l,site:o,submit:()=>{a.value.validate()&&console.log("Form Submitted",o)}}}},N=F({...k(),...R()},"VForm"),T=q()({name:"VForm",props:N(),emits:{"update:modelValue":a=>!0,submit:a=>!0},setup(a,l){let{slots:o,emit:t}=l;const d=x(a),u=f();function e(r){r.preventDefault(),d.reset()}function p(r){const n=r,s=d.validate();n.then=s.then.bind(s),n.catch=s.catch.bind(s),n.finally=s.finally.bind(s),t("submit",n),n.defaultPrevented||s.then(b=>{var c;let{valid:v}=b;v&&((c=u.value)==null||c.submit())}),n.preventDefault()}return U(()=>{var r;return i("form",{ref:u,class:["v-form",a.class],style:a.style,novalidate:!0,onReset:e,onSubmit:p},[(r=o.default)==null?void 0:r.call(o,d)])}),C(d,u)}});function j(a,l,o,t,d,u){return P(),A(w,null,{default:m(()=>[i(T,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":l[3]||(l[3]=e=>t.valid=e),"lazy-validation":""},{default:m(()=>[i(V,{label:"Nom du site",modelValue:t.site.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.site.name=e),rules:[e=>!!e||"Le nom est requis"],required:""},null,8,["modelValue","rules"]),i(V,{label:"URL du site",modelValue:t.site.url,"onUpdate:modelValue":l[1]||(l[1]=e=>t.site.url=e),rules:[e=>!!e||"L'URL est requise",e=>/.+\..+/.test(e)||"URL doit Ãªtre valide"],required:""},null,8,["modelValue","rules"]),i(S,{label:"Type de site",items:["Plate-forme","Agence","Administration","Portail"],modelValue:t.site.type,"onUpdate:modelValue":l[2]||(l[2]=e=>t.site.type=e),rules:[e=>!!e||"Le type est requis"],required:""},null,8,["modelValue","rules"]),i(g,{disabled:!t.valid,color:"success",class:"mr-4",onClick:t.submit},{default:m(()=>[_(" Ajouter le site ")]),_:1},8,["disabled","onClick"])]),_:1},8,["modelValue"])]),_:1})}const E=L(B,[["render",j]]);export{E as default};
